<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\SssTaxTable;

class SssTaxTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Clear existing data
        SssTaxTable::truncate();

        $sssRates = [
            [0, 5249.99, 250, 510, 760],
            [5250, 5749.99, 275, 560, 835],
            [5750, 6249.99, 300, 610, 910],
            [6250, 6749.99, 325, 660, 985],
            [6750, 7249.99, 350, 710, 1060],
            [7250, 7749.99, 375, 760, 1135],
            [7750, 8249.99, 400, 810, 1210],
            [8250, 8749.99, 425, 860, 1285],
            [8750, 9249.99, 450, 910, 1360],
            [9250, 9749.99, 475, 960, 1435],
            [9750, 10249.99, 500, 1010, 1510],
            [10250, 10749.99, 525, 1060, 1585],
            [10750, 11249.99, 550, 1110, 1660],
            [11250, 11749.99, 575, 1160, 1735],
            [11750, 12249.99, 600, 1210, 1810],
            [12250, 12749.99, 625, 1260, 1885],
            [12750, 13249.99, 650, 1310, 1960],
            [13250, 13749.99, 675, 1360, 2035],
            [13750, 14249.99, 700, 1410, 2110],
            [14250, 14749.99, 725, 1460, 2185],
            [14750, 15249.99, 750, 1530, 2280],
            [15250, 15749.99, 775, 1580, 2355],
            [15750, 16249.99, 800, 1630, 2430],
            [16250, 16749.99, 825, 1680, 2505],
            [16750, 17249.99, 850, 1730, 2580],
            [17250, 17749.99, 875, 1780, 2655],
            [17750, 18249.99, 900, 1830, 2730],
            [18250, 18749.99, 925, 1880, 2805],
            [18750, 19249.99, 950, 1930, 2880],
            [19250, 19749.99, 975, 1980, 2955],
            [19750, 20249.99, 1000, 2030, 3030],
            [20250, 20749.99, 1025, 2080, 3105],
            [20750, 21249.99, 1050, 2130, 3180],
            [21250, 21749.99, 1075, 2180, 3255],
            [21750, 22249.99, 1100, 2230, 3330],
            [22250, 22749.99, 1125, 2280, 3405],
            [22750, 23249.99, 1150, 2330, 3480],
            [23250, 23749.99, 1175, 2380, 3555],
            [23750, 24249.99, 1200, 2430, 3630],
            [24250, 24749.99, 1225, 2480, 3705],
            [24750, 25249.99, 1250, 2530, 3780],
            [25250, 25749.99, 1275, 2580, 3855],
            [25750, 26249.99, 1300, 2630, 3930],
            [26250, 26749.99, 1325, 2680, 4005],
            [26750, 27249.99, 1350, 2730, 4080],
            [27250, 27749.99, 1375, 2780, 4155],
            [27750, 28249.99, 1400, 2830, 4230],
            [28250, 28749.99, 1425, 2880, 4305],
            [28750, 29249.99, 1450, 2930, 4380],
            [29250, 29749.99, 1475, 2980, 4455],
            [29750, 30249.99, 1500, 3030, 4530],
            [30250, 30749.99, 1525, 3080, 4605],
            [30750, 31249.99, 1550, 3130, 4680],
            [31250, 31749.99, 1575, 3180, 4755],
            [31750, 32249.99, 1600, 3230, 4830],
            [32250, 32749.99, 1625, 3280, 4905],
            [32750, 33249.99, 1650, 3330, 4980],
            [33250, 33749.99, 1675, 3380, 5055],
            [33750, 34249.99, 1700, 3430, 5130],
            [34250, 34749.99, 1725, 3480, 5205],
            [34750, null, 1750, 3530, 5280], // "above" - null range_end
        ];

        foreach ($sssRates as $rate) {
            SssTaxTable::create([
                'range_start' => $rate[0],
                'range_end' => $rate[1],
                'employee_share' => $rate[2],
                'employer_share' => $rate[3],
                'total_contribution' => $rate[4],
                'is_active' => true
            ]);
        }

        $this->command->info('SSS Tax Table seeded successfully with ' . count($sssRates) . ' records.');
    }
}
